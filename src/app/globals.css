@import "tailwindcss";

/* ===================== Reset ===================== */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
img, svg { display: block; max-width: 100%; height: auto; }

/* ===================== Tokens / Base (Sumi & Kaki) ===================== */
:root{
  /* Base */
  --bg:#FAFAF7;
  --fg:#0B0B0B;
  --muted:#6C6F75;
  --line:#E8E4DC;

  /* Brand */
  --accent:#E4582B;
  --accent-2:#2F6F5E;
  --info:#3D5A98;

  /* Layout */
  --radius:18px;
  --fp-container:1200px;

  /* Fonts */
  --font-sans: var(--font-sans-jp), ui-sans-serif,system-ui,-apple-system,
               "Helvetica Neue",Arial,"Segoe UI","Zen Kaku Gothic New",
               "Noto Sans JP","Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  --font-display: var(--font-display), "Sora", ui-sans-serif, system-ui, -apple-system,
                  "Zen Kaku Gothic New", "Noto Sans JP", sans-serif;

  /* Waves (logo) */
  --wave-line: hsl(0 0% 88%);
}
@media (prefers-color-scheme: dark) {
  :root { --wave-line: hsl(0 0% 40%); }
}

html{
  color-scheme: light;
  overflow-y: scroll;
  scrollbar-gutter: stable;
}
body{
  background:var(--bg);
  color:var(--fg);
  font-family:var(--font-sans);
  -webkit-font-smoothing:antialiased;
  line-height:1.6;
  text-rendering:optimizeLegibility;
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}

/* Focus ring */
:focus-visible{
  outline:2px solid color-mix(in srgb, var(--accent) 70%, transparent);
  outline-offset:2px; border-radius:8px;
}

/* ===================== A11y: Skip link ===================== */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap;
}
.skip-link:focus,.skip-link:focus-visible{
  position:fixed; left:16px; top:calc(12px + env(safe-area-inset-top));
  padding:10px 14px; background:#111; color:#fff; border-radius:10px; z-index:1000; text-decoration:none; box-shadow:0 6px 18px rgba(0,0,0,.2);
}

/* ===================== Type scale ===================== */
.h1,.h2,.h3{ font-family:var(--font-display); letter-spacing:-.01em; }
.h1{ font-size:clamp(32px,5vw,56px); line-height:1.15; font-weight:700; }
.h2{ font-size:clamp(24px,4vw,36px); line-height:1.2; font-weight:700; }
.h3{ font-size:clamp(18px,2.5vw,22px); line-height:1.3; font-weight:600; }
.lead{ font-size:clamp(16px,2.5vw,18px); color:var(--muted); }

/* ===================== Links ===================== */
a{
  color:var(--accent); text-decoration:none;
  transition:color .2s ease, text-decoration-color .2s ease, opacity .2s ease;
}
a:hover{ text-decoration:underline; text-underline-offset:2px; color:var(--fg); text-decoration-color:var(--accent); }
.brand a{ color:inherit !important; }

/* ===================== Layout（※衝突回避のため fp- に統一） ===================== */
.fp-container{ max-width:var(--fp-container); margin:0 auto; padding:0 24px; }
.fp-section{ padding:72px 0; }
main{ min-height:60svh; } /* 画面が短い時でもフッターが張り付かない */
.kbd{ font-family:ui-monospace,SFMono-Regular,Menlo,monospace; }

/* ===================== Header / Nav ===================== */
.site-header{
  position:sticky; top:0; z-index:80;
  background:rgba(255,255,255,.8);
  backdrop-filter:saturate(180%) blur(16px);
  border-bottom:1px solid var(--line);
}
.nav{ display:flex; align-items:center; justify-content:space-between; height:64px; }
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; }
.brand-link{ display:inline-block; line-height:1; padding:4px 6px; cursor:pointer; }
.brand-link svg{ display:block; height:100%; width:auto; }

.navlinks{ display:flex; gap:20px; }
.navlinks a{ color:var(--fg); opacity:.86; font-weight:600; }
.navlinks a:hover{ opacity:1; }

/* Hamburger + Drawer */
.hamburger{
  display:none; width:40px; height:40px; border:1px solid var(--line); border-radius:12px;
  background:#fff; align-items:center; justify-content:center; cursor:pointer;
}
.hamburger .bar{ position:absolute; left:9px; right:9px; height:2px; background:var(--fg); transition:transform .25s, opacity .2s; }
.hamburger .bar:nth-child(1){ top:12px; } .hamburger .bar:nth-child(2){ top:19px; } .hamburger .bar:nth-child(3){ top:26px; }
.bar-1-open{ transform:translateY(7px) rotate(45deg); } .bar-2-open{ opacity:0; } .bar-3-open{ transform:translateY(-7px) rotate(-45deg); }

.backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:70; }
.mobile-menu{
  position:fixed; top:0; right:0; width:min(84vw,360px); height:100dvh; z-index:90;
  background:var(--bg); border-left:1px solid var(--line); box-shadow:-12px 0 24px rgba(0,0,0,.08);
  transform:translateX(100%); transition:transform .28s ease;
  display:flex; flex-direction:column; justify-content:space-between;
  padding:calc(12px + env(safe-area-inset-top)) 20px 20px;
}
.mobile-menu.open{ transform:translateX(0); }
.mobile-nav{ display:flex; flex-direction:column; gap:16px; margin-top:8px; }
.mobile-nav a{ font-weight:700; color:var(--fg); padding:12px 6px; border-radius:10px; border:1px solid transparent; }
.mobile-nav a:hover{ background:#f6f6f6; border-color:var(--line); }
.mobile-meta{ padding:8px 6px; }

.panel-close{
  position:absolute; top:calc(10px + env(safe-area-inset-top)); right:12px;
  width:40px; height:40px; border:1px solid var(--line); border-radius:12px; background:#fff;
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 10px rgba(0,0,0,.05); z-index:95;
}
.panel-close .x-1,.panel-close .x-2{ position:absolute; width:20px; height:2px; background:var(--fg); border-radius:1px; }
.panel-close .x-1{ transform:rotate(45deg); } .panel-close .x-2{ transform:rotate(-45deg); }
@media (min-width:901px){ .panel-close{ display:none; } }

/* ===================== Hero ===================== */
.hero{ padding:96px 0 72px; text-align:center; }
.hero .cta{ display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:999px; border:1px solid var(--line); color:var(--fg); font-weight:600; }
.hero .cta.primary{ background:var(--accent); color:#fff; border-color:var(--accent); }
.hero .cta:hover{ transform:translateY(-1px); }

/* “一滴”のブランド感 */
.hero-grad {
  background:
    radial-gradient(600px 240px at 70% -10%, rgba(228,88,43,.06), transparent 60%),
    radial-gradient(480px 200px at 0% 110%, rgba(47,111,94,.05), transparent 60%);
}

/* ===================== Buttons / Badges ===================== */
.btn {
  display:inline-flex; align-items:center; gap:.6rem;
  padding:12px 18px; border-radius:999px; font-weight:700;
  border:1px solid var(--line); color:var(--fg); background:#fff;
  transition:transform .18s ease, box-shadow .18s ease, background .18s ease;
}
.btn.small{ padding:8px 12px; font-weight:600; }
.btn.primary{ background:var(--accent); border-color:var(--accent); color:#fff; }
.btn.primary:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(228,88,43,.18); }
.btn.ghost{ background:#fff; border-color:var(--line); }
.btn.ghost:hover{ background:#F7F1EC; }
.badge{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:4px 10px; border:1px solid var(--line); border-radius:999px;
  font-size:12px; font-weight:700; color:var(--muted); background:#fff;
}

/* ===================== Grid / Cards ===================== */
.grid{ display:grid; gap:16px; grid-template-columns:repeat(12,1fr); }
.card{
  grid-column:span 6; border:1px solid var(--line); border-radius:var(--radius); padding:24px;
  transition:transform .2s ease, box-shadow .2s ease;
  margin-bottom:22px;
}
.card:hover{ transform:translateY(-2px); box-shadow:0 10px 20px rgba(0,0,0,.06); }
.card .title{ font-weight:700; font-size:20px; margin:0 0 6px; }
.card .meta{ color:var(--muted); font-size:14px; }

/* ===================== Slides / Drafts (一覧) ===================== */
.fp-section--slides .intro{ color:var(--muted); margin-top:6px; }
.slides-list{ display:flex; flex-direction:column; gap:14px; margin-top:18px; }
.slide-card{
  border:1px solid var(--line); border-radius:18px; background:#fff; padding:16px 18px;
  box-shadow:0 6px 18px rgba(0,0,0,.04);
  margin-bottom:18px;
}
.slide-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.slide-title{ font-weight:800; letter-spacing:-.01em; }
.slide-meta{ color:var(--muted); font-size:13px; display:flex; gap:10px; flex-wrap:wrap; }
.slide-actions{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
.slide-actions .btn[aria-disabled="true"]{ opacity:.55; cursor:not-allowed; }
.badge.draft{ border-color:#E7D7C9; background:#FBF7F3; color:#7C5B3A; }
.badge.public{ border-color:#D5E8E1; background:#F3FAF7; color:#2F6F5E; }

/* ===================== Footer ===================== */
.site-footer{ border-top:1px solid var(--line); background:var(--bg); padding:16px 0 28px; color:var(--muted); }
.footerbar{
  display:flex; align-items:center; justify-content:space-between; gap:12px; min-height:40px; flex-wrap:nowrap;
}
.footerbar .copy{ font-weight:600; color:var(--fg); opacity:.9; white-space:nowrap; }
.footerbar .legal{ display:inline-flex; align-items:center; gap:10px; font-size:14px; white-space:nowrap; }
.footerbar .legal .sep{ opacity:.5; }
.footerbar .legal a{ color:var(--muted); }
.footerbar .legal a:hover{ color:var(--fg); }

/* Footer responsive */
@media (max-width: 640px){
  .footerbar{ flex-direction: column-reverse; align-items: center; justify-content: center; gap: 8px; min-height: unset; }
  .footerbar .legal{ display: inline-flex; white-space: nowrap; gap: 8px; font-size: clamp(12px, 3.5vw, 14px); }
  .footerbar .legal .sep{ margin: 0 2px; }
  .footerbar .copy{ white-space: nowrap; font-size: clamp(13px, 3.8vw, 14px); }
}

/* ===================== Company: Definition card ===================== */
.orgcard{
  border:1px solid var(--line); border-radius:18px; background:#fff;
  box-shadow:0 6px 18px rgba(0,0,0,.04); padding:18px;
}
.orgdl{ margin:0; }
.orgdl .row{
  display:grid; grid-template-columns:180px 1fr; gap:14px;
  padding:14px 6px; border-top:1px solid var(--line);
}
.orgdl .row:first-child{ border-top:none; }
.orgdl dt{ color:var(--muted); font-weight:700; letter-spacing:.01em; }
.orgdl dd{ margin:0; }
.addr{ font-style:normal; line-height:1.7; }
.mono{ font-family:ui-monospace,SFMono-Regular,Menlo,monospace; letter-spacing:.02em; }
.chips{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
.chip{
  display:inline-flex; align-items:center; padding:10px 14px; border:1px solid var(--line);
  border-radius:999px; background:#fff; color:var(--fg); font-weight:600; text-decoration:none; box-shadow:0 2px 6px rgba(0,0,0,.04);
}
.chip:hover{ background:#f6f6f6; }
.chip.ghost{ margin-left:10px; }

/* ===================== Not Found ===================== */
.nf-wrap{
  min-height:calc(100dvh - 64px); display:grid; place-items:center; padding:40px 20px;
  background:
    radial-gradient(1200px 600px at 10% -20%, rgba(10,10,10,.03), transparent 60%),
    radial-gradient(800px 400px at 110% 120%, rgba(10,10,10,.03), transparent 60%);
}
.nf-card{ width:min(720px,100%); border:1px solid var(--line); background:#fff; border-radius:20px; padding:28px; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,.06); }
.nf-badge{ display:inline-flex; align-items:center; justify-content:center; width:64px; height:64px; margin:4px auto 8px; border-radius:50%; border:1px solid var(--line); font-weight:800; letter-spacing:.06em; }
.nf-title{ font-size:clamp(22px,3.2vw,28px); margin:10px 0 6px; letter-spacing:-.01em; }
.nf-desc{ color:var(--muted); margin:0 auto 18px; max-width:54ch; }
.nf-actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-bottom:10px; }
.nf-meta{ margin-top:8px; color:var(--muted); font-size:12px; }

/* ===================== ZINE: Coming (quiet) ===================== */
.coming--quiet{
  border:1px solid var(--line); border-radius:18px; padding:28px; text-align:center;
  background:#f9f9f9; box-shadow:0 4px 14px rgba(0,0,0,.03);
  width:min(880px,100%); margin:0 auto;
}
.coming-header{ display:flex; justify-content:center; margin-bottom:10px; }
.pill{
  display:inline-flex; align-items:center; padding:6px 10px; border:1px solid var(--line);
  border-radius:999px; font-size:12px; font-weight:700; letter-spacing:.06em; color:var(--muted); background:#fff;
}
.coming-note{ color:var(--muted); max-width:60ch; margin:8px auto 16px; }
.coming-actions{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:8px; margin-bottom:6px; }
.coming-meta{ margin-top:6px; color:var(--muted); font-size:12px; }

/* ===================== Work helpers ===================== */
.list-check{ margin:8px 0 0; padding-left:18px; list-style:none; }
.list-check li{ position:relative; margin:6px 0; padding-left:22px; }
.list-check li::before{ content:"✓"; position:absolute; left:0; top:.1em; font-weight:800; color:var(--accent); }
.list-dot{ margin:8px 0 0; padding-left:18px; list-style:disc; }

/* ===================== News Bar ===================== */
.newsbar{
  border-top:1px solid var(--line); border-bottom:1px solid var(--line);
  background:#fafafa; padding:8px 0; font-size:13px; color:var(--muted);
}
.newsbar ul{
  margin:0; padding:0; list-style:none;
  display:flex; flex-wrap:wrap; gap:16px; justify-content:flex-start; align-items:center;
}
.newsbar li{ display:flex; align-items:center; gap:6px; white-space:nowrap; }
.newsbar strong{ font-weight:600; color:var(--fg); margin-right:2px; }
.newsbar .title{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.newsbar .more a{
  display:inline-flex; align-items:center; justify-content:center;
  padding:4px 12px; border:1px solid var(--line); border-radius:999px;
  font-size:12px; font-weight:600; color:var(--accent); background:#fff; transition:background .2s ease;
}
.newsbar .more a:hover{ background:#F7F1EC; }

/* ===================== Responsive ===================== */
@media (max-width:900px){
  .card{ grid-column:span 12; }
  .navlinks{ display:none; }
  .hamburger{ display:inline-flex; position:relative; }
  .slide-head{ flex-direction:column; align-items:flex-start; gap:6px; }
}
@media (min-width:901px){
  .mobile-menu, .backdrop, .hamburger{ display:none !important; }
}
@media (max-width:640px){
  :root{
    --safe-top:max(env(safe-area-inset-top),0px);
    --safe-right:max(env(safe-area-inset-right),0px);
    --safe-bottom:max(env(safe-area-inset-bottom),0px);
    --safe-left:max(env(safe-area-inset-left),0px);
  }
  .fp-container{ padding-left:calc(20px + var(--safe-left)); padding-right:calc(20px + var(--safe-right)); }
  .fp-section{ padding-block:56px; }
  .hero{ padding-top:calc(72px + var(--safe-top)); padding-bottom:56px; }
  .grid{ grid-template-columns:1fr; gap:14px; }
  .card{ padding:20px; border-radius:18px; box-shadow:0 6px 18px rgba(0,0,0,.05); }

  /* Company card: label over value */
  .orgcard{ border-radius:16px; padding:12px; }
  .orgdl .row{ grid-template-columns:1fr; gap:6px; padding:14px 0; }
  .orgdl dt{ font-size:13px; }
  .orgdl dd{ font-size:18px; line-height:1.7; }

  /* NewsBar: 最新1件＋More を左右配置 */
  .newsbar ul{ gap:8px; justify-content:space-between; width:100%; padding:0 16px; }
  .newsbar li{ display:none; }
  .newsbar li:first-child{ display:flex; min-width:0; flex:1 1 auto; }
  .newsbar li.more{ display:inline-flex; flex:0 0 auto; }
  .newsbar .title{ max-width:60vw; }
}

/* contact: 2カラムレイアウト */
.cf-grid{
  display:grid;
  grid-template-columns: 160px 1fr;
  gap: 12px 16px;
  max-width: 760px;
}
@media (max-width:640px){
  .cf-grid{ grid-template-columns: 1fr; }
}

@layer components {

  /* ラベル */
  .cf-label{ display:block; font-weight:700; margin-top:4px; }
  .cf-req{ color:var(--accent); margin-left:.2em; }

  /* 入力フィールド（UA/Preflightに勝つため :where() で要素指定も付ける） */
  :where(input).cf-input,
  :where(textarea).cf-textarea{
    display:block;      /* 幅縮み防止 */
    width:100%;
    color-scheme: light;
    -webkit-appearance:none;
    appearance:none;
    padding:12px 14px;
    border-radius:10px;
    background:#F7F7F7 !important;
    color:var(--fg) !important;
    border:1px solid #E6E6E6 !important;
    line-height:1.55;
    font:inherit;
    background-clip:padding-box;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.02);
    transition:border-color .15s ease, box-shadow .15s ease, background .2s ease;
  }
  :where(textarea).cf-textarea{ resize:vertical; min-height:140px; }
  .cf-input::placeholder, .cf-textarea::placeholder{ color:#B4B8BE; }
  .cf-input:focus, .cf-textarea:focus{
    outline:none;
    background:#FAFAFA !important;
    border-color:#CFCFCF !important;
    box-shadow:
      inset 0 1px 0 rgba(0,0,0,.02),
      0 0 0 3px color-mix(in srgb, var(--accent) 16%, transparent);
  }
  .cf-input[aria-invalid="true"], .cf-textarea[aria-invalid="true"]{
    border-color:#E86A5E !important;
    background:#FFF6F5 !important;
    box-shadow:
      inset 0 1px 0 rgba(232,106,94,.06),
      0 0 0 3px color-mix(in srgb, #E86A5E 22%, transparent);
  }

  /* 文言・補助 */
  .cf-field{ margin:6px 0 10px; }
  .cf-hint{ margin:6px 0 0; font-size:13px; color:var(--muted); }

  /* アクション */
  .cf-actions{ display:flex; align-items:center; gap:12px; margin-top:10px; }
  .cf-meta{ font-size:13px; color:var(--muted); }
  .cf-success{
    border:1px solid var(--line);
    background:#fff;
    padding:16px 18px;
    border-radius:12px;
    box-shadow:0 6px 18px rgba(0,0,0,.05);
  }

  /* Safari/Chrome のオートフィル対策 */
  .cf-input:-webkit-autofill,
  .cf-textarea:-webkit-autofill{
    -webkit-text-fill-color: var(--fg) !important;
    -webkit-box-shadow: 0 0 0px 1000px #F7F7F7 inset !important;
    box-shadow: 0 0 0px 1000px #F7F7F7 inset !important;
    transition: background-color 9999s ease-out, color 9999s ease-out;
  }
}